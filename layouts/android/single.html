{{ define "preloads" }}
  {{ partial "altcha-css.html" . }}
{{ end }}
{{ define "main" }}
  <div class="container py-12">
    <header class="mb-6">
      <h1 class="font-h1 mb-8">{{ .Title }}</h1>
      <p class="lead">{{ .Description }}</p>
    </header>

    <div class="rounded-md bg-blue-100 p-4 mb-6">
      <div class="flex items-center">
        <div class="shrink-0">
          <i class="fa-solid fa-info-circle text-blue-500"></i>
        </div>
        <div class="ml-3 text-sm text-dark">
          <p>{{ .Params.Hint | safeHTML }}</p>
        </div>
      </div>
    </div>

    <div class="flex flex-col space-y-6 md:flex-row md:space-x-6 md:space-y-0">
      <section class="w-full md:w-1/2">
        {{ partial "android-getkey.html" . }}
      </section>

      <div class="flex flex-col space-y-6 w-full md:w-1/2">
        <section>
          {{ partial "android-download.html" . }}
        </section>

        <section>
          {{ partial "android-fdroid.html" . }}
        </section>

        <section>
          {{ partial "android-accrescent.html" . }}
        </section>
      </div>
    </div>
  </div>
{{ end }}
{{ define "script" }}
  {{ if hugo.IsDevelopment }}
    {{ $newsletterJs := resources.Get "js/newsletter.js" }}
    <script type="text/javascript" src="{{ $newsletterJs.RelPermalink }}" defer></script>
    {{ $androidKeyJs := resources.Get "js/androidkey.js" }}
    <script type="text/javascript" src="{{ $androidKeyJs.RelPermalink }}" defer></script>
    {{ $altchaJs := resources.Get "js/altcha/altcha.js" }}
    <script type="module" src="{{ $altchaJs.RelPermalink }}" defer></script>
    {{ $altchaWorkerJs := resources.Get "js/altcha/worker.js" }}
    <script type="module" src="{{ $altchaWorkerJs.RelPermalink }}" defer></script>
  {{ else }}
    {{ $newsletterJs := resources.Get "js/newsletter.js" | minify | fingerprint }}
    <script type="text/javascript" src="{{ $newsletterJs.RelPermalink }}" integrity="{{ $newsletterJs.Data.Integrity }}" defer></script>
    {{ $androidKeyJs := resources.Get "js/androidkey.js" | minify | fingerprint }}
    <script type="text/javascript" src="{{ $androidKeyJs.RelPermalink }}" integrity="{{ $androidKeyJs.Data.Integrity }}" defer></script>
    {{ $altchaJs := resources.Get "js/altcha/altcha.js" }}
    <script type="module" src="{{ $altchaJs.RelPermalink }}" integrity="{{ $altchaJs.Data.Integrity }}" defer></script>
    {{ $altchaWorkerJs := resources.Get "js/altcha/worker.js" }}
    <script type="module" src="{{ $altchaWorkerJs.RelPermalink }}" integrity="{{ $altchaWorkerJs.Data.Integrity }}" defer></script>
  {{ end }}
{{ end }}
